define(["backbone","jquery","collections/carts","views/form","models/customer"],function(e,t,n,r,i){var s=e.View.extend({tagName:"div",template:_.template(t("#viewcartTemplate").html()),productListing:t("#ProductListing"),events:{"click .deleteFromCart":"deleteFromCart"},initialize:function(){this.total=t("#total span")},render:function(){return this.$el.append(this.template(this.model.toJSON())),this.total.html(this.cpuTotalAmount()),this},deleteFromCart:function(e){n.remove(this.model),this.$el.remove(),this.total.html(this.cpuTotalAmount())},addNewCustomer:function(){this.productListing.hide();var e=new i,t=new r({model:e});t.render()},cpuTotalAmount:function(){var e=0;return n.each(function(t){e+=parseInt(t.get("amount"))},this),e}}),o=new s;return t("#finishCart").click(function(){o.addNewCustomer()}),s});